# 데이터 소스별 음식점 수집 방법 정리

## Method 1: 서울시 공공데이터 API
- **소스**: 서울시 열린데이터광장 공식 API
- **엔드포인트**: `LOCALDATA_072404_GN` (강남구 일반음식점 인허가 정보)
- **데이터 특징**: 
  - 공식 인허가 데이터
  - 인허가일자(APVPERMYMD) 기준으로 최근 개업 필터링
  - 강남구 전체 음식점 약 1000개 수집 가능
- **현재 상태**: ✅ 작동 중 (최근 30일 내 신규 개업 0개)
- **장점**: 공식 데이터, 신뢰성 높음
- **단점**: 데이터 업데이트 주기가 느림

## Method 2: 실시간 API (카카오/네이버)
- **소스**: 카카오 로컬 API + 네이버 검색 API
- **검색 키워드**: 
  - "강남구 신규 오픈 음식점"
  - "강남구 새로 생긴 맛집"
  - "강남구 오픈 예정 레스토랑"
  - "강남구 2024 신규 카페"
  - "강남구 최근 개업 음식점"
- **데이터 특징**:
  - 실시간 검색 결과
  - 키워드 기반 필터링
  - 중복 제거 로직 포함
- **현재 상태**: ⚠️ 최근 개업 키워드로는 검색 결과 0개
- **장점**: 실시간성, 다양한 소스
- **단점**: 키워드 의존적, 정확도 낮을 수 있음

## Method 3: CSV + API 조합
- **소스**: 기존 CSV 파일 + 카카오 API 보강
- **CSV 파일**:
  - `서울시강남구일반음식점인허가정보.csv`
  - `서울시강남구제과점영업인허가정보.csv`
  - `서울시강남구휴게음식점인허가정보.csv`
- **데이터 특징**:
  - CSV에서 인허가일자 기준 최근 개업 필터링
  - 카카오 API로 위치정보, 전화번호 등 추가 정보 보강
  - pandas를 이용한 데이터 처리
- **현재 상태**: ❌ pandas 의존성 문제로 미실행
- **장점**: 정확한 기본 데이터 + 실시간 보강
- **단점**: CSV 데이터 업데이트 필요

## 환경변수 설정
```bash
# .env 파일
SEOUL_API_KEY=6547735274616e6438376e53524e4f
KAKAO_API_KEY=22b44c41a71b28ea149f0251c973f326
NAVER_CLIENT_ID=WwVmp1qawnJlVbLx1isZ
NAVER_CLIENT_SECRET=qnpXQftBgz
```

## 실행 결과 요약
- **Method 1**: 강남구 음식점 1000개 수집, 최근 개업 0개
- **Method 2**: 최근 개업 키워드 검색 결과 0개
- **Method 3**: 미실행 (의존성 문제)

## 프론트엔드 연동 전략

### 🍽️ 맛집 정보 (3개) - Method 2 활용
- **소스**: 카카오 로컬 API
- **키워드**: "강남구 맛집", "강남구 인기 음식점", "강남구 추천 레스토랑"
- **선별 기준**: 평점/리뷰 기준 상위 3개
- **특징**: 실시간 인기도 반영

### 🆕 신설 음식점 (3개) - Method 1 + Method 3 조합
- **소스**: 서울시 API + CSV 데이터
- **Method 1**: 최근 6개월 인허가 데이터 수집
- **Method 3**: CSV에서 최근 인허가일자 필터링
- **선별 기준**: 두 결과 병합 후 최신순 3개

## 현재 문제점 및 해결방안

### Method 1 문제점
- **문제**: 최근 개업 데이터가 실제로 없음 (API 응답은 정상)
- **원인**: 서울시 API 데이터 업데이트 지연
- **해결**: 검색 기간을 30일 → 6개월로 확대

### Method 2 문제점  
- **문제**: "신규 오픈" 키워드로 검색 결과 0개
- **원인**: 너무 구체적인 키워드 사용
- **해결**: 일반적인 "맛집" 키워드로 변경 후 개업일 필터링

### Method 3 문제점
- **문제**: pandas 의존성 오류로 실행 불가
- **원인**: 라이브러리 미설치
- **해결**: `pip install pandas` 실행 필요

## 개선 방안
1. **Method 1**: 검색 기간 확대 (30일 → 180일)
2. **Method 2**: 키워드 전략 변경 ("신규" → "맛집")
3. **Method 3**: pandas 설치 후 재실행
4. **새로운 소스**: 배달앱 API, 소셜미디어 크롤링 추가 고려